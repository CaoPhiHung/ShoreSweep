<div id="kiosksSurvey" layout="column" layout-sm="column" layout-wrap>
	<div class="progress-bar" data-ng-style="{'opacity': viewModel.showSpinner ? '1':'0'}">
		<md-progress-linear md-mode="indeterminate"></md-progress-linear>
	</div>

	<md-toolbar class="header">
		<div layout="row" layout-align="center center" class="sv-header">
			<div flex="90">
				<div>
					<img src="../img/lake-lanier-logo.png" style="height:50px;" />
				</div>
			</div>
			<div flex="10" data-ng-controller="LogoutController">
				<span class="logout-section">
					<i class="fa fa-sign-out ico-logout" data-ng-click="viewModel.submit()"></i>
				</span>
			</div>
		</div>

		<div layout="row" layout-align="center center" class="sv-header-action">
			<div flex="65">
				<md-button class="md-raised md-primary" data-ng-click="viewModel.showMapAndTrash()"
					data-ng-disabled="!viewModel.enableUpdateOrShowMap()">Show Map & Trash</md-button>
				<md-button class="md-raised md-primary" data-ng-click="viewModel.updateRecord($event)"
					data-ng-disabled="!viewModel.enableUpdateOrShowMap()">Update Record</md-button>
			</div>
			<div flex="15">
				<select name="status" class="select-search-box" data-ng-model="viewModel.searchType">
					<option value="0">Modified Date</option>
					<option value="1">Status</option>
					<option value="2">Size</option>
					<option value="3">Type</option>
					<option value="4">Section</option>
					<option value="5">Assignee</option>
				</select>
			</div>
			<div flex="15">
				<input type="text" class="search-text" data-ng-model="viewModel.searchText" placeholder="Search text" />
			</div>
			<div layout="column" flex="5" layout-align="center right">
				<md-menu>
					<md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu($event)">
						<!--<md-icon md-menu-origin md-svg-src="/img/menu-ico.svg"></md-icon>-->
						<i class="fa fa-bars ico" style="font-size: 26px"></i>
					</md-button>
					<md-menu-content width="3">
						<md-menu-item>
							<md-button ng-click="viewModel.showImportCSVDialog()"> <span md-menu-align-target>Import CSV File</span></md-button>
						</md-menu-item>
						<md-menu-item>
							<md-button ng-click="viewModel.showImportKMLDialog()"> <span md-menu-align-target>Import KML File</span></md-button>
						</md-menu-item>
						<md-menu-item>
							<md-button ng-click="viewModel.showAssigneeDialog()"> <span md-menu-align-target>Create Assignee</span></md-button>
						</md-menu-item>
						<md-menu-item>
							<md-button ng-click="viewModel.showAdminUserDialog()"> <span md-menu-align-target>Create Admin User</span></md-button>
						</md-menu-item>
					</md-menu-content>
				</md-menu>
			</div>
		</div>

		<div layout="row" layout-align="left center" class="sv-header-paging">
			<div flex="20">
				<strong>Show</strong>
				<select class="input-page" data-ng-model="viewModel.itemsPerPage" convert-to-number
								data-ng-change="viewModel.itemsPerPageChanged(viewModel.itemsPerPage)">
					<option value="5">5</option>
					<option value="10">10</option>
					<option value="20">20</option>
					<option value="50">50</option>
					<option value="100">100</option>
					<option value="{{viewModel.trashInformationList.length}}">All</option>
				</select>
				<strong>records / page</strong>
			</div>

			<div flex="80" data-ng-if="viewModel.numPages > 1">
				<div class="number-page">
					<span data-ng-if="viewModel.currentPage > 1">
						<i class="fa fa-chevron-left ico" data-ng-click="viewModel.goToPreviousPage()"></i>
					</span> &nbsp;
					<span class="section-number">{{viewModel.getPageNumber()}} / {{ viewModel.numPages }}</span>
					&nbsp;
					<span data-ng-if="viewModel.currentPage < viewModel.numPages">
						<i class="fa fa-chevron-right ico" data-ng-click="viewModel.goToNextPage()"></i>
					</span>
				</div>
			</div>
		</div>
	</md-toolbar>

	<md-content flex layout-padding>
		<md-card>
			<md-card-content>
				<div layout="row" layout-align="center center" class="md-row sv-header-type">
					<div flex="5" class="md-cell border-right">
            <md-checkbox class="select-all" data-ng-model="viewModel.selectedAll" aria-label="selectedAll"
              data-ng-change="viewModel.onchangeSelectedAll()"></md-checkbox>
          </div>
					<div flex="5" class="md-cell border-right">ID</div>
          <div flex="10" class="md-cell border-right">Modified Date</div>
					<div flex="10" class="md-cell border-right">Description</div>
					<div flex="10" class="md-cell border-right">Status</div>
					<div flex="10" class="md-cell border-right">Picture</div>
					<div flex="10" class="md-cell border-right">Size</div>
					<div flex="10" class="md-cell border-right">Type</div>
					<div flex="10" class="md-cell border-right">Section</div>
					<div flex="10" class="md-cell border-right">Comment</div>
					<div flex="10" class="md-cell border-right">Assignee</div>
				</div>

				<div layout="row" layout-align="center center" data-ng-repeat="trashInfo in viewModel.trashInfoViewModelList | filter: viewModel.search | start: (viewModel.currentPage - 1) * viewModel.itemsPerPage | limitTo: viewModel.itemsPerPage" class="md-row">
					<div flex="5" class="md-cell border-right">
						<md-checkbox data-ng-model="trashInfo.isSelected" aria-label="selected"></md-checkbox>
					</div>
					<div flex="5" class="md-cell border-right">{{trashInfo.id}}</div>
          <div flex="10" class="md-cell border-right text-overflow">{{trashInfo.modifiedDate}}</div>
					<div flex="10" class="md-cell border-right text-overflow">
            <md-tooltip data-ng-if="trashInfo.description.length > 0" md-direction="top">{{trashInfo.description}}</md-tooltip>
            {{trashInfo.description}}</div>
					<div flex="10" class="md-cell border-right">
						<select name="status" class="field" data-ng-model="trashInfo.status" data-ng-change="viewModel.updateTrashInfoChange(trashInfo)">
							<option value="Unconfirmed">Unconfirmed</option>
							<option value="Confirmed">Confirmed</option>
							<option value="Cleaned">Cleaned</option>
						</select>
					</div>
					<div flex="10" class="md-cell border-right" data-ng-click="viewModel.showGoogleMapDialog(trashInfo, $event)" style="cursor: pointer;">
						<img data-ng-src="{{trashInfo.images[0]}}" style="width:80%; height: 80%" />
					</div>
					<div flex="10" class="md-cell border-right">{{trashInfo.size}}</div>
					<div flex="10" class="md-cell border-right text-overflow">
            <md-tooltip data-ng-if="trashInfo.type.length > 0" md-direction="top">{{trashInfo.type}}</md-tooltip>
            {{trashInfo.type}}</div>
					<div flex="10" class="md-cell border-right">{{trashInfo.sectionName}}</div>
					<div flex="10" class="md-cell border-right">
						<input type="text" class="comment" data-ng-model="trashInfo.comment" placeholder="Comment" />
					</div>
					<div flex="10" class="md-cell border-right">
						<select name="status" class="field" data-ng-model="trashInfo.assigneeId" data-ng-change="viewModel.updateTrashInfoChange(trashInfo)"  convert-to-number>
							<option data-ng-repeat="assignee in viewModel.assigneeList" value="{{ assignee.id }}" data-ng-bind="assignee.username"></option>
						</select>
					</div>
				</div>
			</md-card-content>
		</md-card>
	</md-content>

</div>



